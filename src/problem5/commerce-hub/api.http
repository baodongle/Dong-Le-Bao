### Variables
@baseUrl = http://localhost:3000
@contentType = application/json

### ========================================
### Health Check
### ========================================

### Get Health Status
GET {{baseUrl}}/health

### ========================================
### Products - CREATE
### ========================================

### Create Product - Valid Request
POST {{baseUrl}}/api/products
Content-Type: {{contentType}}

{
  "name": "iPhone 15 Pro Max",
  "description": "High-end phone with A17 Pro chip, 48MP camera",
  "price": "34990000.00",
  "category": "Electronics",
  "stock": 50
}

### Create Product - Number Price
POST {{baseUrl}}/api/products
Content-Type: {{contentType}}

{
  "name": "MacBook Pro M3",
  "description": "Professional laptops for developers",
  "price": 45990000,
  "category": "Computers",
  "stock": 30
}

### Create Product - Minimal Data
POST {{baseUrl}}/api/products
Content-Type: {{contentType}}

{
  "name": "AirPods Pro",
  "price": "6990000"
}

### Create Product - Invalid (Missing Required Field)
POST {{baseUrl}}/api/products
Content-Type: {{contentType}}

{
  "name": "Test Product"
}

### Create Product - Invalid (Negative Price)
POST {{baseUrl}}/api/products
Content-Type: {{contentType}}

{
  "name": "Invalid Product",
  "price": -1000,
  "stock": 10
}

### Create Product - Invalid (Negative Stock)
POST {{baseUrl}}/api/products
Content-Type: {{contentType}}

{
  "name": "Invalid Product",
  "price": "1000000",
  "stock": -5
}

### ========================================
### Products - READ
### ========================================

### Get All Products (Default Pagination)
GET {{baseUrl}}/api/products

### Get Products - Page 1, Limit 5
GET {{baseUrl}}/api/products?page=1&limit=5

### Get Products - Filter by Category
GET {{baseUrl}}/api/products?category=Electronics

### Get Products - Filter by Price Range
GET {{baseUrl}}/api/products?minPrice=5000000&maxPrice=50000000

### Get Products - Filter In Stock Only
GET {{baseUrl}}/api/products?inStock=true

### Get Products - Search by Name
GET {{baseUrl}}/api/products?search=iPhone

### Get Products - Complex Filter
GET {{baseUrl}}/api/products?category=Electronics&minPrice=10000000&maxPrice=40000000&inStock=true&page=1&limit=10

### Get Products - Invalid Pagination
GET {{baseUrl}}/api/products?page=-1&limit=200

### Get Product by ID (Replace with actual UUID)
@productId = 019a6c9d-3e48-7d66-9c93-965ba64cf149
GET {{baseUrl}}/api/products/{{productId}}

### Get Product by ID - Invalid UUID
GET {{baseUrl}}/api/products/invalid-uuid-format

### Get Product by ID - Not Found UUID
GET {{baseUrl}}/api/products/018c84e5-0000-0000-0000-000000000000

### ========================================
### Products - UPDATE
### ========================================

### Update Product - Full Update
@updateProductId = 019a6c9d-3e48-7d66-9c93-965ba64cf149
PUT {{baseUrl}}/api/products/{{updateProductId}}
Content-Type: {{contentType}}

{
  "name": "iPhone 15 Pro Max - Updated",
  "description": "Latest updated version",
  "price": "32990000.00",
  "category": "Smartphones",
  "stock": 100
}

### Update Product - Partial Update (Name Only)
PUT {{baseUrl}}/api/products/{{updateProductId}}
Content-Type: {{contentType}}

{
  "name": "iPhone 15 Pro Max - Discount"
}

### Update Product - Partial Update (Price & Stock)
PUT {{baseUrl}}/api/products/{{updateProductId}}
Content-Type: {{contentType}}

{
  "price": "29990000.00",
  "stock": 75
}

### Update Product - Invalid (Negative Price)
PUT {{baseUrl}}/api/products/{{updateProductId}}
Content-Type: {{contentType}}

{
  "price": "-1000"
}

### Update Product - Invalid UUID
PUT {{baseUrl}}/api/products/invalid-uuid
Content-Type: {{contentType}}

{
  "name": "Test"
}

### Update Product - Not Found
PUT {{baseUrl}}/api/products/018c84e5-0000-0000-0000-000000000000
Content-Type: {{contentType}}

{
  "name": "Not Found Product"
}

### ========================================
### Products - DELETE
### ========================================

### Delete Product (Soft Delete)
@deleteProductId = 019a6c9d-3e48-7d66-9c93-965ba64cf149
DELETE {{baseUrl}}/api/products/{{deleteProductId}}

### Delete Product - Invalid UUID
DELETE {{baseUrl}}/api/products/invalid-uuid

### Delete Product - Not Found
DELETE {{baseUrl}}/api/products/018c84e5-0000-0000-0000-000000000000

### Delete Product - Already Deleted
DELETE {{baseUrl}}/api/products/{{deleteProductId}}

### ========================================
### Rate Limiting Tests
### ========================================

### Test Rate Limit - Send Multiple Requests
# Run this multiple times quickly to trigger rate limit
GET {{baseUrl}}/api/products
